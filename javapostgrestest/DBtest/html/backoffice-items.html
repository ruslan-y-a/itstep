<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Интернет-магазин &laquo;Всякая всячина&raquo;</title>
		<link rel="stylesheet" href="main.css" type="text/css">
     
	</head>
	<body>
		<div class="wrapper">
			<div>
				<div class="backoffice-header">Back office. Интернет-магазин &laquo;Всякая всячина&raquo;</div>
				<div class="backoffice-header2">Admin, Manager, Product</div>				   				
			</div>
			<div class="main-content">			
				   <h2 class="page-title">items</h2>
				   <div class="backoffice-edit-page"> 
					<table class="table" id="table">			
						<tr>
						    <th class="table__header">id</th>
							<th class="table__header">articul</th>
							<th class="table__header">model</th>							
							<th class="table__header">categories</th>
							<th class="table__header">name</th>	
							<th class="table__header">baseprice</th>	
							<th class="table__header">discount</th>	
							<th class="table__header">Action</th>
												
						</tr>
						<tr>
						    <td class="table__cell_numeric" id="tid">1</td>
							<td class="table__cell" id="tarticul">01505_01</td>
							<td class="table__cell" id="tmodel">01505</td>							
							<td class="table__cell" id="tcategories">
							   <select multiple>
		                         <option value=7>Mens Shoes</option>
		                         <option value=30>Allseason</option>
			                     <option value=36>Belwest</option>			                     
		                       </select>							  
							</td>
							<td class="table__cell" id="tname">Mens shoes of natural leather 01505_01</td>
							<td class="table__cell_numeric" id="tbaseprice">60</td>
							<td class="table__cell_numeric" id="tdiscount">0</td>																																		
						    <td class="table__cell"><img src="img/edit.png" id="edit"></td>
						</tr>
						<tr>
                            <td class="table__cell_numeric" id="tid">1</td>
							<td class="table__cell" id="tarticul">01505_02</td>
							<td class="table__cell" id="tmodel">015052</td>							
							<td class="table__cell" id="tcategories">
							   <select multiple>
		                         <option value=7>Mens Shoes</option>
		                         <option value=30>Allseason</option>
			                     <option value=35>Puma</option>			                     
		                       </select>							  
							</td>
							<td class="table__cell" id="tname">Mens shoes of natural leather 01505_02</td>
							<td class="table__cell_numeric" id="tbaseprice">602</td>
							<td class="table__cell_numeric" id="tdiscount">02</td>																																		
						    <td class="table__cell"><img src="img/edit.png" id="edit"></td>
						</tr>
						<tr>
                            <td class="table__cell_numeric" id="tid">1</td>
							<td class="table__cell" id="tarticul">01505_03</td>
							<td class="table__cell" id="tmodel">015053</td>							
							<td class="table__cell" id="tcategories">
							   <select multiple>
		                         <option value=7>Mens Shoes</option>
		                         <option value=30>Allseason</option>
			                     <option value=36>Belwest</option>			                     
		                       </select>							  
							</td>
							<td class="table__cell" id="tname">Mens shoes of natural leather 01505_03</td>
							<td class="table__cell_numeric" id="tbaseprice">603</td>
							<td class="table__cell_numeric" id="tdiscount">03</td>																																		
						    <td class="table__cell"><img src="img/edit.png" id="edit"></td>
						</tr>
						<tr>
                            <td class="table__cell_numeric" id="tid">1</td>
							<td class="table__cell" id="tarticul">01505_04</td>
							<td class="table__cell" id="tmodel">015054</td>							
							<td class="table__cell" id="tcategories">
							   <select multiple>
		                         <option value=7>Mens Shoes</option>
		                         <option value=30>Allseason</option>
			                     <option value=35>Puma</option>			                     
		                       </select>							  
							</td>
							<td class="table__cell" id="tname">Mens shoes of natural leather 01505_04</td>
							<td class="table__cell_numeric" id="tbaseprice">604</td>
							<td class="table__cell_numeric" id="tdiscount">04</td>																																		
						    <td class="table__cell"><img src="img/edit.png" id="edit"></td>
						</tr>
						<tr>
                            <td class="table__cell_numeric" id="tid">1</td>
							<td class="table__cell" id="tarticul">01505_05</td>
							<td class="table__cell" id="tmodel">015055</td>							
							<td class="table__cell" id="tcategories">
							   <select multiple>
		                         <option value=7>Mens Shoes</option>
		                         <option value=30>Allseason</option>
			                     <option value=36>Belwest</option>			                     
		                       </select>							  
							</td>
							<td class="table__cell" id="tname">Mens shoes of natural leather 01505_05</td>
							<td class="table__cell_numeric" id="tbaseprice">605</td>
							<td class="table__cell_numeric" id="tdiscount">05</td>																																		
						    <td class="table__cell"><img src="img/edit.png" id="edit"></td>
						</tr>
					</table>
				</div>	
		
				
				<div>
			        <form  action="save.html" style="width: 350px">
			            <div style="display:block; margin-top:20px;"><strong>EDIT FORM</strong></div>
			            <div style="display:block; float:left; margin-top:20px; margin-bottom:10px;">			             
			              <label for="id">item id:</label>
			              <input style="width:50px;" id="id" type="text" name="id" value="1" readonly>			             	
			            </div>			         
			           <table class="table fleft">			           
			            <tr>
			                <th class="table__header">articul</th>
							<th class="table__header">model</th>								
							<th class="table__header">baseprice</th>	
							<th class="table__header">discount</th>	
							<th class="table__header">name</th>		
							<th class="table__header">categories</th>												
			            </tr>
			            <tr>
			            	<td class="table__cell">						     
						      <input  style="width:70px;" id="articul" type="text" name="articul" value="01505_01" required>	
							</td>
							<td class="table__cell">						     
						      <input  style="width:60px;" id="model" type="text" name="model" value="01505" required>	
							</td>								
							<td class="table__cell_numeric">                              
						      <input style="width:30px;" id="baseprice" type="text" name="baseprice" value="0" required>	
                            </td>
							<td class="table__cell_numeric">							  
						      <input style="width:30px;" id="discount" type="text" name="discount" value="0" required>	
							</td>
							<td class="table__cell">							
						      <input style="width:300px;" id="name" type="text" name="name" value="1" required>								
							</td>	
							<td  class="table__cell" >													      	
						       <select style="width:150px;" id="categoryid" name="categoryid" required multiple>
		                         <option value=7>Mens Shoes</option>
		                         <option value=30>Allseason</option>
			                     <option value=36>Belwest</option>
			                     <option value=18>Womens Boat Shoes</option>
			                     <option value=35>Puma</option>
			                     <option value=38>Sport</option>
		                       </select>								
							</td>																			  			          										   					  													   					  								
 					  </table>			
 					  <!--     "text",    , "description", "classifications", "tagcloud","keywords" -->		
			          <table class="table">
			            <tr>						
							<th class="table__header">classifications</th>
							<th class="table__header">tagcloud</th>
							<th class="table__header">keywords</th>
							<th class="table__header">title</th>
			            </tr>
			            <tr>                          
						<td  class="table__cell" >													      	
						       <select style="width:200px;" id="classifications" name="classifications" required multiple>
		                         <option value=7>Mens Shoes</option>
		                         <option value=30>Allseason</option>
			                     <option value=36>Belwest</option>
			                     <option value=18>Womens Boat Shoes</option>
			                     <option value=35>Puma</option>
			                     <option value=38>Sport</option>
		                       </select>								
							</td>	
							<td  class="table__cell" >													      	
						       <select style="width:200px;" id="tagcloud" name="tagcloud" required multiple>
		                         <option value=7>Mens Shoes</option>
		                         <option value=30>Allseason</option>
			                     <option value=36>Belwest</option>
			                     <option value=18>Womens Boat Shoes</option>
			                     <option value=35>Puma</option>
			                     <option value=38>Sport</option>
		                       </select>								
							</td>		
							<td  class="table__cell" >													      	
						       <textarea style="width:200px;"  class="form__text-input text-input-height" placeholder="Here come keywords:" id="keywords"  name="keywords" ></textarea>							
							</td>
					      <td  class="table__cell" >
 					        <textarea style="width:200px;" class="form__text-input text-input-height" placeholder="Here comes a title:" id="title"  name="title" ></textarea>
 					      </td>																										
						</tr>								  			          										   					  													   					  								
 					  </table>						
 					   <table class="table">
			            <tr>												
							<th class="table__header">description</th>		
							<th  class="table__header">Text</th>
							<th  class="table__header">img</th>				
			            </tr>						
 					   <tr> 					
 					      <td  class="table__cell" >
 					        <textarea style="width:200px; height:250px;" class="form__text-input text-input-height" placeholder="Here comes a description:" id="description"  name="description"  ></textarea>
 					      </td>
 					       <td  class="table__cell" >
 					        <textarea style="width:400px; height:250px;" class="form__text-input text-input-height" placeholder="Here comes a text:" id="text"  name="text"></textarea>
 					      </td> 
 					      <td  class="table__cell" >
 					        <img style="width:200px;" src="img/01515_01.jpg">
 					      </td> 					      
 					    </tr>  
 					   </table>		 					  						
 					  	<table class="table">
                        <tr>											
                        	<th  class="table__header">web url</th>		
							<th class="table__header">img url</th>
							<th class="table__header">load img</th>											
			            </tr>								
 					   <tr>
 					    	<td class="table__cell">							
						      <input style="width:300px;" id="url" type="url" name="url" value="">								
							</td>	 					      
 					        <td class="table__cell">													     	
						        <select style="width:200px;" id="img" name="img">
		                         <option value="img/01515_01.jpg" selected>img/01515_01.jpg</option>
		                         <option value="img/01515_02.jpg">img/01515_02.jpg</option>
		                       </select>									
							</td>
							<td class="table__cell">							
						      <input style="width:250px;" id="file" type="file" name="file" >
						      <button type="button">Delete img</button>								
							</td>		
 					    </tr>  
 					   </table>								
						<button class="form__button" type="submit">Save</button>
						<button class="form__button_danger" type="button">Delete</button>
						<button class="form__button" type="reset">Cancel</button>
						<input type="checkbox" name="addparams" value="true" checked>wanna add params?</p>
					</form>
			   </div>	
			</div>			    
			<div class="end"></div>
			
		</div>
	<!-- //////////SCRIPT////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ -->	
        <script type="text/javascript">          
          document.querySelector('#table').addEventListener('click', function(e){         
        	  var id = e.target.id; 
        	  var tmp=id.substring(0,4);
        	  if (tmp=='edit') {        	
        			Edit(e.target);
        	     }         	          	          	          			
        	  });                   
                     
          function Edit(e){        	  
        	  var pnode = e.parentNode.parentNode;        
        	 // var id= getchildid(pnode,'tid').innerHTML; //pnode.childNodes[0]        	        	  
        	  var id= pnode.childNodes[1].innerHTML; //pnode.childNodes[0]
        	  var t1 = pnode.childNodes[3].innerHTML; //articul
        	  var t2 = pnode.childNodes[5].innerHTML; //model
        	///  var t3 = pnode.childNodes[7].innerHTML; //baseprice      
        	  var nname = pnode.childNodes[9].innerHTML; //discount
        	  var nprice = pnode.childNodes[11].innerHTML; //name        	       
        	  var ndisc = pnode.childNodes[13].innerHTML; //name
        	  var list1=pnode.childNodes[7];             	
              list1=list1.childNodes[1];
         	  
        	  document.getElementById('id').value = id;
        	  document.getElementById('articul').value = t1;
        	  document.getElementById('model').value = t2;
        	  document.getElementById('baseprice').value = nprice;
        	  document.getElementById('discount').value =ndisc; 
        	  document.getElementById('name').value = nname; 
        	          	 
             var list2=document.getElementById('categoryid');
        	 list2=list2;
        	 var lop=list2.options;
        	 for (var j=0, m=list2.options.length;j<m;j++) {     			  
     				list2.options[j].selected=false;}
        	  
        	 for (var i=0, n=list1.options.length;i<n;i++) { // looping over the options
        			for (var j=0, m=list2.options.length;j<m;j++) {
        			   if (list1.options[i].value==list2.options[j].value) {
        				list2.options[j].selected=true; continue;
        			   }  				           			   
        			}
               } 
        	  	
       		 
        	  
          }
          
		</script>
<!-- //////////SCRIPT////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ -->			
	</body>
</html>
