<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Интернет-магазин &laquo;Всякая всячина&raquo;</title>
		<link rel="stylesheet" href="main.css" type="text/css">
     
	</head>
	<body>
		<div class="wrapper">
			<div>
				<div class="backoffice-header">Back office. Интернет-магазин &laquo;Всякая всячина&raquo;</div>
				<div class="backoffice-header2">Admin, Manager, Product</div>				   				
			</div>
			<div class="main-content">			
				   <h2 class="page-title">Baseitems and Store</h2>
				   <p>Cells with ' may be empty.</p>
				   <div class="backoffice-edit-page"> 
					<table class="table" id="table">			
						<tr>
						    <th class="table__header">id</th>
							<th class="table__header">itemid</th>
							<th class="table__header">itemname</th>
							<th class="table__header">variantid</th>		
							<th class="table__header">quantity</th>						
							<th class="table__header">Base Variant name'</th>							
							<th class="table__header">baseprice'</th>	
							<th class="table__header">currency'</th>	
							<th class="table__header">Action</th>												
						</tr>
						<tr>
						    <td class="table__cell_numeric" id="tid">1</td>
							<td class="table__cell" id="titemid">01</td>
							<td class="table__cell" id="titemname">Mens shoes of natural leather 01505_01</td>							
							<td class="table__cell" id="tvariantid">
							   <select multiple>
		                         <option value=7>size 41</option>
		                         <option value=17>black</option>
			    	           </select>							  
							</td>
							<td class="table__cell" id="tquantity">10</td>
							<td class="table__cell_numeric" id="tname"></td>
							<td class="table__cell_numeric" id="tbaseprice"></td>
							<td class="table__cell_numeric" id="tcurrency"></td>																																		
						    <td class="table__cell"><img src="img/edit.png" id="edit"></td>
						</tr>
						<tr>
                            <td class="table__cell_numeric" id="tid">2</td>
							<td class="table__cell" id="titemid">01</td>
							<td class="table__cell" id="titemname">Mens shoes of natural leather 01505_01</td>							
							<td class="table__cell" id="tvariantid">
							   <select multiple>
                                 <option value=8>size 42</option>
		                         <option value=17>black</option>	                     
		                       </select>							  
							</td>
							<td class="table__cell" id="tquantity">20</td>
							<td class="table__cell_numeric" id="tname"></td>
							<td class="table__cell_numeric" id="tbaseprice"></td>
							<td class="table__cell_numeric" id="tcurrency"></td>																																		
						    <td class="table__cell"><img src="img/edit.png" id="edit"></td>
						</tr>
						<tr>
                            <td class="table__cell_numeric" id="tid">3</td>
							<td class="table__cell" id="titemid">01</td>
							<td class="table__cell" id="titemname">Mens shoes of natural leather 01505_01</td>							
							<td class="table__cell" id="tvariantid">
							   <select multiple>
                                 <option value=9>size 43</option>
		                         <option value=17>black</option>	                     
		                       </select>							  
							</td>
							<td class="table__cell" id="tquantity">15</td>
							<td class="table__cell_numeric" id="tname"></td>
							<td class="table__cell_numeric" id="tbaseprice"></td>
							<td class="table__cell_numeric" id="tcurrency"></td>																																		
						    <td class="table__cell"><img src="img/edit.png" id="edit"></td>
						</tr>
						<tr>
                           <td class="table__cell_numeric" id="tid">4</td>
							<td class="table__cell" id="titemid">02</td>
							<td class="table__cell" id="titemname">Womens sneakers 37284903</td>							
							<td class="table__cell" id="tvariantid">
							   <select multiple>
                                 <option value=2>size 36</option>
		                         <option value=30>multicolor</option>	                     
		                       </select>							  
							</td>
							<td class="table__cell" id="tquantity">16</td>
							<td class="table__cell_numeric" id="tname"></td>
							<td class="table__cell_numeric" id="tbaseprice"></td>
							<td class="table__cell_numeric" id="tcurrency"></td>																																		
						    <td class="table__cell"><img src="img/edit.png" id="edit"></td>
						</tr>
						<tr>
                          <td class="table__cell_numeric" id="tid">5</td>
							<td class="table__cell" id="titemid">02</td>
							<td class="table__cell" id="titemname">Womens sneakers 37284903</td>							
							<td class="table__cell" id="tvariantid">
							   <select multiple>
                                 <option value=3>size 37</option>
		                         <option value=30>multicolor</option>	                     
		                       </select>							  
							</td>
							<td class="table__cell" id="tquantity">11</td>
							<td class="table__cell_numeric" id="tname"></td>
							<td class="table__cell_numeric" id="tbaseprice"></td>
							<td class="table__cell_numeric" id="tcurrency"></td>																																		
						    <td class="table__cell"><img src="img/edit.png" id="edit"></td>
						</tr>
					</table>
				</div>	
		
				
				<div>
			        <form  action="save.html" style="width: 350px">
			            <div style="display:block; margin-top:20px;"><strong>EDIT FORM</strong></div>
			            <div style="display:block; margin-top:20px; margin-bottom:10px;">			             
			              <label for="id">item id:</label>
			              <input style="width:50px;" id="id" type="number" name="id" readonly>			             	
			              <label for="itemname">item name:</label>
			              <input style="width:100px;" id="itemname" type="text" name="itemname" readonly>		
			            </div>			         
			           <table class="table fleft">			           
			            <tr>
			                <th class="table__header">variant 1</th>
			                <th class="table__header">variant 2</th>
							<th class="table__header">quantity</th>		
							<th class="table__header">name'</th>			
			 	            <th class="table__header">baseprice'</th>	
							<th class="table__header">currency'</th>																			
			            </tr>
			            <tr>
			            	<td class="table__cell">						     						      
						       <select style="width:50px;" id="variantid1" name="variantid" required>
		                         <option value=2>36</option>
		                         <option value=3>37</option>
			                     <option value=4>38</option>
			                     <option value=7>41</option>
			                     <option value=8>42</option>
			                     <option value=9>43</option>			                     
		                       </select>						
							</td>
							<td class="table__cell">						     
						       <select style="width:100px;" id="variantid1" name="variantid" required>
			                     <option value=17>black</option>
			                     <option value=30>multicolor</option>
		                       </select>	
							</td>								
							<td class="table__cell_numeric">                              
						      <input style="width:50px;" id="quantity" type="number" name="quantity" value="0" required>	
                            </td>	
                            <td  class="table__cell" >
 					        <input style="width:100px;" id="name" type="text" name="name"> 					        
 					      </td>
 					      <td  class="table__cell" > 					      
 					        <input style="width:100px;" id="baseprice" type="number" name="baseprice">
 					      </td> 	
 					      <td  class="table__cell" > 					      
 					          <select style="width:100px;" id="currency" name="currency">
			                     <option value=1 selected>USD</option>
			                     <option value=2>EUR</option>
			                     <option value=3>GBP</option>
		                       </select>
 					      </td>
 					     </tr> 				      																			  			          										   					  													   					  								
 					  </table>			 					 	 					  					
 					  			
						<button class="form__button" type="submit">Save</button>
						<button class="form__button_danger" type="button">Delete</button>
						<button class="form__button" type="reset">Cancel</button>
					</form>
			   </div>	
			</div>			    
			<div class="end"></div>
			
		</div>
	<!-- //////////SCRIPT////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ -->	
        <script type="text/javascript">          
          document.querySelector('#table').addEventListener('click', function(e){         
        	  var id = e.target.id; 
        	  var tmp=id.substring(0,4);
        	  if (tmp=='edit') {        	
        			Edit(e.target);
        	     }         	          	          	          			
        	  });                   
                     
          function Edit(e){        	  
        	  var pnode = e.parentNode.parentNode;        
        	 // var id= getchildid(pnode,'tid').innerHTML; //pnode.childNodes[0]        	        	  
        	  var id= pnode.childNodes[1].innerHTML; //pnode.childNodes[0]
        	  var t1 = pnode.childNodes[3].innerHTML; //articul
        	  var t2 = pnode.childNodes[5].innerHTML; //model
        	///  var t3 = pnode.childNodes[7].innerHTML; //baseprice      
        	  var nname = pnode.childNodes[9].innerHTML; //discount
        	  var nprice = pnode.childNodes[11].innerHTML; //name        	       
        	  var ndisc = pnode.childNodes[13].innerHTML; //name
        	  var list1=pnode.childNodes[7];             	
              list1=list1.childNodes[1];
         	  
        	  document.getElementById('id').value = id;
        	  document.getElementById('articul').value = t1;
        	  document.getElementById('model').value = t2;
        	  document.getElementById('baseprice').value = nprice;
        	  document.getElementById('discount').value =ndisc; 
        	  document.getElementById('name').value = nname; 
        	          	 
             var list2=document.getElementById('categoryid');
        	 list2=list2;
        	 var lop=list2.options;
        	 for (var j=0, m=list2.options.length;j<m;j++) {     			  
     				list2.options[j].selected=false;}
        	  
        	 for (var i=0, n=list1.options.length;i<n;i++) { // looping over the options
        			for (var j=0, m=list2.options.length;j<m;j++) {
        			   if (list1.options[i].value==list2.options[j].value) {
        				list2.options[j].selected=true; continue;
        			   }  				           			   
        			}
               } 
        	  	
       		 
        	  
          }
          
		</script>
<!-- //////////SCRIPT////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ -->			
	</body>
</html>
